{"version":3,"sources":["../src/TransitionChild.js"],"names":["TransitionChild","callback","componentFadeIn","page","finalStyle","props","style","initialStyle","forEach","window","getComputedStyle","property","transition","setTimeout","transitionsRemaining","split","length","addEventListener","leaveStyle","childDidLeave","ref","children"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;IAEqBA,e;;;;;;;;;;wCACCC,Q,EAAU;AAC5B,WAAKC,eAAL,CAAqBD,QAArB;AACD;;;uCAEkBA,Q,EAAU;AAC3B,WAAKC,eAAL,CAAqBD,QAArB;AACD;;;oCAEeA,Q,EAAU;AAAA;;AACxB,UAAIE,OAAO,KAAKA,IAAhB;AAAA,UACEC,aAAa,KAAKC,KAAL,CAAWD,UAD1B;AAEA,gCAAc,KAAKD,IAAL,CAAUG,KAAxB,EAA+B,KAAKD,KAAL,CAAWE,YAA1C;AACA,6BAAY,KAAKF,KAAL,CAAWE,YAAvB,EAAqCC,OAArC,CACE;AAAA,eAAYC,OAAOC,gBAAP,CAAwB,OAAKP,IAA7B,EAAmCQ,QAAnC,CAAZ;AAAA,OADF;AAGA,WAAKR,IAAL,CAAUG,KAAV,CAAgBM,UAAhB,GAA6B,KAAKP,KAAL,CAAWO,UAAxC;AACAC,iBAAW;AAAA,eAAM,0BAAcV,KAAKG,KAAnB,EAA0BF,UAA1B,CAAN;AAAA,OAAX;AACA,UAAIU,uBAAuB,KAAKT,KAAL,CAAWO,UAAX,CAAsBG,KAAtB,CAA4B,GAA5B,EAAiCC,MAA5D;AACA,WAAKb,IAAL,CAAUc,gBAAV,CACE,eADF,EAEE,YAAM;AACJH;AACA,YAAIA,oBAAJ,EAA0B;AAC1Bb;AACD,OANH,EAOE,KAPF;AASD;;;uCAEkBA,Q,EAAU;AAAA;;AAC3B,UAAIiB,aAAa,KAAKb,KAAL,CAAWa,UAAX,GAAwB,KAAKb,KAAL,CAAWa,UAAnC,GAAgD,KAAKb,KAAL,CAAWE,YAA5E;AACA,gCAAc,KAAKJ,IAAL,CAAUG,KAAxB,EAA+BY,UAA/B;AACA,UAAIJ,uBAAuB,KAAKT,KAAL,CAAWO,UAAX,CAAsBG,KAAtB,CAA4B,GAA5B,EAAiCC,MAA5D;AACA,WAAKb,IAAL,CAAUc,gBAAV,CACE,eADF,EAEE,YAAM;AACJH;AACA,YAAIA,oBAAJ,EAA0B;AAC1Bb;AACA,eAAKI,KAAL,CAAWc,aAAX;AACD,OAPH,EAQE,KARF;AAUD;;;6BAEQ;AAAA;;AACP,aACE;AAAA;AAAA,UAAK,KAAK;AAAA,mBAAQ,OAAKhB,IAAL,GAAYiB,IAApB;AAAA,WAAV,EAAoC,OAAO,KAAKf,KAAL,CAAWE,YAAtD;AACG,aAAKF,KAAL,CAAWgB;AADd,OADF;AAKD;;;;;qBApDkBrB,e","file":"TransitionChild.js","sourcesContent":["'use strict'\r\n\r\nimport React, { Component } from 'react'\r\n\r\nexport default class TransitionChild extends Component {\r\n  componentWillAppear(callback) {\r\n    this.componentFadeIn(callback)\r\n  }\r\n\r\n  componentWillEnter(callback) {\r\n    this.componentFadeIn(callback)\r\n  }\r\n\r\n  componentFadeIn(callback) {\r\n    let page = this.page,\r\n      finalStyle = this.props.finalStyle\r\n    Object.assign(this.page.style, this.props.initialStyle)\r\n    Object.keys(this.props.initialStyle).forEach(\r\n      property => window.getComputedStyle(this.page)[property]\r\n    )\r\n    this.page.style.transition = this.props.transition\r\n    setTimeout(() => Object.assign(page.style, finalStyle))\r\n    let transitionsRemaining = this.props.transition.split(',').length\r\n    this.page.addEventListener(\r\n      'transitionend',\r\n      () => {\r\n        transitionsRemaining--\r\n        if (transitionsRemaining) return\r\n        callback()\r\n      },\r\n      false\r\n    )\r\n  }\r\n\r\n  componentWillLeave(callback) {\r\n    let leaveStyle = this.props.leaveStyle ? this.props.leaveStyle : this.props.initialStyle\r\n    Object.assign(this.page.style, leaveStyle)\r\n    let transitionsRemaining = this.props.transition.split(',').length\r\n    this.page.addEventListener(\r\n      'transitionend',\r\n      () => {\r\n        transitionsRemaining--\r\n        if (transitionsRemaining) return\r\n        callback()\r\n        this.props.childDidLeave()\r\n      },\r\n      false\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div ref={ref => (this.page = ref)} style={this.props.initialStyle}>\r\n        {this.props.children}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}